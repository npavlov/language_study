{"id":"language_study-59y","title":"Infinite sessions, simple shuffle, per-language counts","description":"Remove 20-word session limit, replace weighted selection with Fisher-Yates shuffle, show per-language word counts on direction toggle","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-18T14:49:05Z","created_by":"nikpav","updated_at":"2026-02-18T14:51:44Z","closed_at":"2026-02-18T14:51:44Z","close_reason":"Implemented: removed sessionSize, Fisher-Yates shuffle, filterIds, per-language word counts"}
{"id":"language_study-5ea","title":"Deployment \u0026 CI/CD","description":"Set up GitHub Pages deployment, CI/CD pipeline with GitHub Actions, automated builds and quality checks.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-18T08:54:35Z","created_by":"nikpav","updated_at":"2026-02-18T09:40:27Z","closed_at":"2026-02-18T09:40:27Z","close_reason":"Deployment \u0026 CI/CD epic complete. deploy.yml for GitHub Pages, ci.yml for lint/test/build quality gates."}
{"id":"language_study-5ea.1","title":"Set up GitHub Pages deployment","description":"Configure GitHub Pages deployment for the static site at https://npavlov.github.io/language_study/.\n\nDEPLOYMENT STRATEGY\nUse GitHub Actions with the official actions/configure-pages and actions/deploy-pages actions. This provides a clean separation between source code and deployed artifacts — do not use the /docs folder approach. Create .github/workflows/deploy.yml triggered on push to main.\n\nBUILD STEP\nDetect whether the project uses a bundler (Vite) or is plain vanilla HTML/CSS/JS:\n- If Vite: run 'npm run build' (outputs to dist/), then deploy the dist/ directory. Set base in vite.config.js to '/language_study/'.\n- If vanilla (no bundler): copy src/ files directly as the artifact. No build step needed.\n\nBASE URL \u0026 ASSET PATHS\nThe site lives at https://npavlov.github.io/language_study/ (a subdirectory, not root). All asset paths MUST be relative (e.g. './assets/style.css', not '/assets/style.css'). Absolute paths will 404 under GitHub Pages subdirectory hosting. Audit all \u003clink\u003e, \u003cscript\u003e, \u003cimg\u003e, and fetch() calls before deploying.\n\nROUTING \u0026 404 HANDLING\nIf the app uses hash-based routing (e.g. index.html#/lesson/1), no extra config is needed. If using path-based routing, add a custom 404.html that redirects back to index.html with the path encoded as a query param (standard GitHub Pages SPA workaround).\n\nHTTPS\nAutomatically provided by GitHub Pages. No configuration required. Enforce HTTPS in the repo Settings \u003e Pages \u003e Enforce HTTPS checkbox.\n\nCACHING\nGitHub Pages serves static files with default CDN cache headers. No additional configuration is needed. For aggressive cache-busting on JS/CSS, rely on Vite's content-hashed filenames (if using Vite).\n\nMOBILE TESTING\nBefore deploying, test on a real device via local network:\n1. Run 'npx serve .' or 'vite --host' from the project root.\n2. Find your machine's local IP (ifconfig | grep 'inet ').\n3. Open http://\u003clocal-ip\u003e:\u003cport\u003e/language_study/ on the phone.\nThis validates touch interactions, font sizes, and asset loading before the public deploy.\n\nPWA CONSIDERATION (OPTIONAL — HIGH VALUE FOR A LEARNING APP)\nAdd manifest.json (name, icons, theme_color, display: standalone) and a service worker (sw.js) that caches core assets for offline use. Register the SW in index.html. This allows learners to study vocabulary without an internet connection — especially valuable on mobile.\n\nFILES TO CREATE / MODIFY\n- .github/workflows/deploy.yml — Actions workflow (build + deploy)\n- vite.config.js — set base: '/language_study/' if using Vite\n- 404.html — SPA redirect shim (if using path routing)\n- manifest.json + sw.js — PWA support (optional)\n- All HTML/CSS/JS files — audit for absolute asset paths and convert to relative","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-18T08:55:15Z","created_by":"nikpav","updated_at":"2026-02-18T09:40:14Z","closed_at":"2026-02-18T09:40:14Z","close_reason":"GitHub Pages deploy workflow created at .github/workflows/deploy.yml. Uses actions/deploy-pages with Vite build. Base URL already set in vite.config.js, all paths relative.","dependencies":[{"issue_id":"language_study-5ea.1","depends_on_id":"language_study-5ea","type":"parent-child","created_at":"2026-02-18T09:55:15Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-5ea.2","title":"GitHub Actions CI/CD pipeline","description":"Create the CI/CD pipeline as a GitHub Actions workflow at .github/workflows/ci.yml. This task covers the automated pipeline only; the initial GitHub Pages setup is handled in 5ea.1.\n\nTriggers:\n- on: push to main branch\n- on: pull_request (all PRs targeting main)\n\nJobs (run in order):\n1. lint — run ESLint on all JS files; fail the PR check if any lint errors are reported\n2. test — run the test suite if tests exist (e.g. npm test); fail if any tests fail; skip gracefully if no test script is present\n3. build — run the production build step (e.g. npm run build) and upload the build artifact\n4. deploy — run only on push to main (not on pull_request); use peaceiris/actions-gh-pages or actions/deploy-pages to publish the build artifact to GitHub Pages; protect with an environment rule so only the main branch can trigger deployment\n\nNode.js setup:\n- Use a fixed LTS version (e.g. Node 20) via actions/setup-node\n- Cache node_modules using the built-in cache option of actions/setup-node (cache: 'npm') to speed up subsequent runs\n\nQuality gates:\n- lint job must pass before build and deploy jobs run\n- test job (if present) must pass before deploy runs\n- PRs are blocked from merging via required status checks configured in branch protection rules\n\nStatus badge:\n- Add a GitHub Actions build status badge to README.md pointing to the ci.yml workflow on the main branch\n\nNotifications:\n- Rely on GitHub's default PR check status integration; no additional notification setup required\n\nFile to create: .github/workflows/ci.yml","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T08:55:16Z","created_by":"nikpav","updated_at":"2026-02-18T09:40:23Z","closed_at":"2026-02-18T09:40:23Z","close_reason":"CI workflow created at .github/workflows/ci.yml. Jobs: lint, test, build (depends on lint+test). Triggers on push to main and PRs.","dependencies":[{"issue_id":"language_study-5ea.2","depends_on_id":"language_study-5ea","type":"parent-child","created_at":"2026-02-18T09:55:16Z","created_by":"nikpav","metadata":"{}"},{"issue_id":"language_study-5ea.2","depends_on_id":"language_study-5ea.1","type":"blocks","created_at":"2026-02-18T09:56:16Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-6j8","title":"Excel Export","description":"Export vocabulary to Excel (.xlsx) with all translations (EN/SR/RU), usage examples, and word explanations. Should be downloadable from the web app.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-02-18T08:54:33Z","created_by":"nikpav","updated_at":"2026-02-18T09:39:17Z","closed_at":"2026-02-18T09:39:17Z","close_reason":"Excel export epic complete. Single task 6j8.1 delivered exportToExcel() with SheetJS, wired into menu UI."}
{"id":"language_study-6j8.1","title":"Export vocabulary to Excel (.xlsx)","description":"Use SheetJS (xlsx) library to export vocabulary to an Excel file. SheetJS is ~200KB — load it lazily (dynamic import) only when the export is triggered, to avoid bloating the initial bundle. Works fully client-side with no server required, compatible with GitHub Pages.\n\nFile: src/js/export.js\n\n--- Excel structure ---\n\nSheet 1 — \"English Words\":\nColumns: Word (EN) | Serbian Translation | Russian Translation | Example (EN) | Example (SR) | Example (RU) | Explanation | Category | Difficulty\n\nSheet 2 — \"Serbian Words\":\nColumns: Word (SR) | English Translation | Russian Translation | Example (SR) | Example (EN) | Example (RU) | Explanation | Category | Difficulty\n(Same 9-column layout but pivoted so the Serbian word is primary.)\n\n--- Formatting ---\n\n- Header row: bold text, colored background (e.g. blue/teal fill, white text).\n- All columns: auto-width based on content length (use character-count heuristic, cap at ~60 chars).\n- Text wrapping enabled for example and explanation columns (long content).\n- Excel auto-filters applied to the header row on both sheets so users can filter by Category and Difficulty directly in Excel/LibreOffice.\n- Difficulty levels color-coded via cell background: e.g. beginner=green, intermediate=yellow, advanced=red (applied to the Difficulty column cells).\n\n--- Export options ---\n\n- Export all words OR only words from selected categories (pass a categories filter list; if empty/null, export everything).\n- Merge words from localStorage (user-added words) with the main vocabulary before export so nothing is lost.\n\n--- UI \u0026 file download ---\n\n- Export triggered by a dedicated button in the app UI (visible on both desktop and mobile).\n- On mobile, use the standard anchor download trick (a.href = objectURL, a.download = filename, a.click()) to reliably trigger download.\n- File named: language_study_vocabulary_YYYY-MM-DD.xlsx (date computed at export time).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T08:55:13Z","created_by":"nikpav","updated_at":"2026-02-18T09:39:12Z","closed_at":"2026-02-18T09:39:12Z","close_reason":"export.js implemented with lazy-loaded SheetJS, two sheets (EN/SR), auto-filters, column widths, download trigger. Wired into menu with Export button.","dependencies":[{"issue_id":"language_study-6j8.1","depends_on_id":"language_study-6j8","type":"parent-child","created_at":"2026-02-18T09:55:13Z","created_by":"nikpav","metadata":"{}"},{"issue_id":"language_study-6j8.1","depends_on_id":"language_study-ppg.3","type":"blocks","created_at":"2026-02-18T09:56:16Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-7hk","title":"Clean EN vocabulary: remove sentence-length entries (27 entries)","description":"27 English entries have terms longer than 80 chars — these are full sentences, not vocabulary words. They should be either split into individual words or removed.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-18T14:23:08Z","created_by":"nikpav","updated_at":"2026-02-18T14:34:18Z","closed_at":"2026-02-18T14:34:18Z","close_reason":"Fixed 2 entries (bonkers, to mail it in), deleted 21 sentence-length entries. 1407→1386. Script: scripts/fix-long-terms.js"}
{"id":"language_study-7ks","title":"Investigate: typing mode repeats same 20 words, poor randomization","description":"User reports that typing mode keeps showing the same words. Game appears limited to 20 words per session with poor randomization across sessions. Need to: 1) understand why word pool is limited, 2) verify randomization logic, 3) write tests for word selection and randomization, 4) write tests to detect cross-language contamination (Serbian words in English vocab and vice versa)","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-18T14:20:11Z","created_by":"nikpav","updated_at":"2026-02-18T14:22:58Z","closed_at":"2026-02-18T14:22:58Z","close_reason":"Tests written and passing. Randomization is correct — the perceived repetition comes from sessionSize=20 limitation and weighted selection. Real data quality issues found (47 Cyrillic-contaminated EN entries, etc). Follow-up issues needed for data cleanup."}
{"id":"language_study-8ii","title":"UI/UX \u0026 Mobile Responsiveness","description":"Design and implement responsive UI for phone, tablet, and desktop. Language selection, progress tracking, settings. Must work well on GitHub Pages and feel native on mobile devices.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-18T08:54:32Z","created_by":"nikpav","updated_at":"2026-02-18T09:26:09Z","closed_at":"2026-02-18T09:26:09Z","close_reason":"All UI/UX tasks complete: CSS foundation, menu, progress tracking, add words, SPA routing."}
{"id":"language_study-8ii.1","title":"Responsive layout for mobile, tablet, desktop","description":"Establish the responsive CSS foundation for the entire game. All styling must be mobile-first and progressively enhanced for larger screens.\n\nBREAKPOINTS\n- Phone: base styles (no media query), max-width \u003c 480px\n- Tablet: @media (min-width: 480px)\n- Desktop: @media (min-width: 1024px)\n\nFILE STRUCTURE\n- src/css/base.css       — CSS reset, custom properties, typography, body defaults\n- src/css/components.css — reusable UI components (buttons, cards, inputs) using BEM naming\n- src/css/responsive.css — layout-level breakpoint overrides using CSS Grid / Flexbox\n\nCSS CUSTOM PROPERTIES (defined on :root in base.css)\n- Colors: --color-primary, --color-surface, --color-on-surface, --color-error, etc.\n- Typography: --font-size-base (min 16px), --font-size-sm, --font-size-lg, --font-family (system font stack: system-ui, -apple-system, sans-serif)\n- Spacing scale: --space-xs, --space-sm, --space-md, --space-lg, --space-xl\n- Radius / shadow tokens as needed\n\nDARK MODE\n- Use @media (prefers-color-scheme: dark) inside base.css to override color custom properties only; no other selectors needed.\n\nTYPOGRAPHY\n- Base font size: minimum 16px on all viewports (no smaller)\n- Line height: at least 1.5 for body text\n- Use the system font stack; do not load external web fonts at this stage\n\nTOUCH TARGETS\n- Every interactive element (buttons, links, inputs, selectors) must have a minimum tap area of 44x44px (use min-height/min-width or padding to achieve this)\n\nLAYOUT\n- Use CSS Flexbox for single-axis component layouts; CSS Grid for two-dimensional page sections\n- No horizontal scrolling at any viewport width (overflow-x: hidden on body; validate on 320px wide)\n\nVIEWPORT \u0026 SAFE AREAS\n- Viewport meta tag: \u003cmeta name='viewport' content='width=device-width, initial-scale=1, viewport-fit=cover'\u003e\n- Apply safe area insets where content touches screen edges: padding using env(safe-area-inset-top/right/bottom/left) on fixed bars and full-bleed containers\n\nANIMATION PERFORMANCE\n- Animations and transitions must use only transform and opacity properties\n- Add will-change: transform to elements that animate on every frame\n- Respect @media (prefers-reduced-motion: reduce): disable or replace all motion with instant transitions\n\nCSS METHODOLOGY\n- Follow BEM naming: .block__element--modifier\n- No inline styles; no !important except in reset rules\n\nACCEPTANCE CRITERIA\n- Game renders without horizontal scroll on 320px, 480px, 768px, 1024px, 1440px viewports\n- All interactive elements pass 44x44px touch-target check (Chrome DevTools or manual)\n- Dark mode activates correctly when system preference is dark\n- Lighthouse mobile accessibility score \u003e= 90 with these base styles applied\n- base.css, components.css, and responsive.css all exist under src/css/","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-18T08:55:05Z","created_by":"nikpav","updated_at":"2026-02-18T09:24:37Z","closed_at":"2026-02-18T09:24:37Z","close_reason":"Full CSS foundation: base.css (reset, vars, dark mode, safe areas), components.css (30+ BEM components), responsive.css (phone/tablet/desktop breakpoints). Lint clean.","dependencies":[{"issue_id":"language_study-8ii.1","depends_on_id":"language_study-8ii","type":"parent-child","created_at":"2026-02-18T09:55:05Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-8ii.2","title":"Main menu and game mode selector","description":"Design and implement the main menu screen (src/js/ui/menu.js + corresponding HTML section).\n\nScreen layout:\n- App title/logo at the top of the screen\n- Language direction toggle with bilingual labels: 'Learn English / Учить английский' and 'Learn Serbian / Учить сербский'\n- Grid of game mode cards, each with an icon and a one-line description: Flashcards (icon: card-flip, 'Flip and memorise'), Quiz (icon: question mark, 'Choose the correct answer'), Typing (icon: keyboard, 'Type the translation'), Match Pairs (icon: grid, 'Match word to translation')\n- Word count display showing how many words are available for the selected direction/category\n- Category/tag filter dropdown or chip row (populated from data if categories exist)\n- Quick stats summary bar: words learned today and current streak\n- Start button that launches the selected game mode with the selected language direction\n\nNavigation:\n- Bottom tab bar (mobile) or hamburger menu (desktop) providing access to: Settings, Stats, Add Words, Export\n- UI language defaults to Russian (native language) with an in-menu option to switch to EN or SR\n\nImplementation:\n- Smooth CSS transitions between screens; simple SPA-style routing (show/hide sections, no page reload)\n- All logic in src/js/ui/menu.js; HTML structure in the main menu section of index.html","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-18T08:55:07Z","created_by":"nikpav","updated_at":"2026-02-18T09:26:09Z","closed_at":"2026-02-18T09:26:09Z","close_reason":"MenuScreen with direction toggle (EN/SR), 4 mode cards, quick stats, start button. Router (hash-based SPA). main.js wires everything: vocabulary loading, all game modes, stats, add-words, tab bar. Lint clean.","dependencies":[{"issue_id":"language_study-8ii.2","depends_on_id":"language_study-8ii","type":"parent-child","created_at":"2026-02-18T09:55:07Z","created_by":"nikpav","metadata":"{}"},{"issue_id":"language_study-8ii.2","depends_on_id":"language_study-8ii.1","type":"blocks","created_at":"2026-02-18T09:56:15Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-8ii.3","title":"Progress tracking and statistics screen","description":"Implement a persistent progress-tracking system and a Statistics screen so players can see how they are doing over time.\n\nDATA TO TRACK (per word)\n- correct: number of correct answers\n- total: number of total attempts\n- accuracy: derived as correct/total (computed on read, not stored)\n- lastSeen: ISO date string of the most recent attempt\n- masteryLevel: enum string, one of 'new' | 'learning' | 'known' | 'mastered'\n  - new: 0 attempts\n  - learning: attempts \u003e 0 and accuracy \u003c 0.6\n  - known: accuracy \u003e= 0.6 and accuracy \u003c 0.85\n  - mastered: accuracy \u003e= 0.85 and total \u003e= 5\n\nSESSION HISTORY\n- Keep the last 30 sessions only; drop older ones at write time\n- Each session record: { date: ISO string, score: number, total: number, durationSeconds: number, wordIds: string[] }\n\nLOCALSTORAGE SCHEMA\nStore two keys:\n  ls_progress  — JSON object:\n    {\n      words: { [wordId: string]: { correct: number, total: number, lastSeen: string, masteryLevel: string } },\n      sessions: Array\u003c{ date: string, score: number, total: number, durationSeconds: number, wordIds: string[] }\u003e,\n      streakDays: number,\n      lastSessionDate: string   // ISO date string, date part only (YYYY-MM-DD)\n    }\n  ls_settings  — reserved for future use, do not mix into ls_progress\n\nDATA LAYER: src/js/progress.js\nExport the following functions (no default export):\n  loadProgress()         — reads and parses ls_progress from localStorage; returns default structure if missing\n  saveProgress(data)     — serialises and writes to ls_progress; trims sessions array to last 30 before writing\n  updateWordResult(wordId, correct)  — loads, mutates the word record, recomputes masteryLevel, saves\n  recordSession(session) — loads, appends session, updates streakDays and lastSessionDate, trims sessions, saves\n  resetProgress()        — removes ls_progress from localStorage\n  exportProgress()       — returns JSON string of ls_progress suitable for file download\n\nSTATISTICS SCREEN: src/js/ui/stats.js\nRenders into a dedicated #stats-screen section (hidden by default, shown via CSS class toggle).\nSections to render:\n\n1. Overall Progress\n   - Display as 'X / Y words mastered' where Y = total word count in the deck\n   - Mastery breakdown bar: stacked horizontal CSS bar divided into four coloured segments (new/learning/known/mastered)\n   - Show count and percentage for each mastery level below the bar\n\n2. Accuracy\n   - Overall accuracy % across all attempts (sum correct / sum total)\n   - Per-session accuracy line rendered as a CSS-only bar chart (one vertical bar per session, height proportional to accuracy %, last 10 sessions shown)\n\n3. Daily Streak\n   - Show current streak in days with a simple flame or star icon (Unicode, no external assets)\n   - Streak resets to 0 if lastSessionDate is more than 1 calendar day before today\n\n4. Time Spent\n   - Total time in minutes (sum of durationSeconds across all sessions / 60, rounded)\n   - Average session length in minutes\n\n5. Weak Words List\n   - Words with accuracy \u003c 0.6 and total \u003e= 2 attempts, sorted ascending by accuracy then descending by total\n   - Show word text, accuracy %, and attempt count\n   - 'Practice these' button filters the main game to only those words (pass wordId list via a URL hash or sessionStorage flag; do not alter ls_progress)\n   - Cap the list at 20 entries to avoid overwhelming the screen\n\n6. Recent Sessions\n   - Last 5 sessions shown as a table: date, score/total, accuracy %, duration\n   - 'View all' expands to show all stored sessions (up to 30)\n\n7. Actions\n   - 'Reset progress' button — show a confirmation dialog (native window.confirm or a custom modal) before calling resetProgress(); refresh the stats screen after reset\n   - 'Export JSON' button — calls exportProgress() and triggers a file download named 'language-study-progress-YYYY-MM-DD.json' using a Blob + object URL\n\nVISUAL / PERFORMANCE NOTES\n- Use CSS-only bar charts (no canvas, no third-party charting libraries)\n- All colours must respect the existing CSS custom properties (--color-primary, etc.)\n- Stats screen must render in under 100 ms; avoid recomputing derived values in a loop per render — aggregate once on load\n- Do not store per-keystroke or per-character data; only store per-word and per-session aggregates\n- Old sessions beyond 30 are dropped at save time; no background cleanup task needed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T08:55:09Z","created_by":"nikpav","updated_at":"2026-02-18T09:24:37Z","closed_at":"2026-02-18T09:24:37Z","close_reason":"progress.js data layer (6 exports) + StatsScreen UI (mastery bar, accuracy chart, streak, weak words, sessions, export/reset). Lint clean.","dependencies":[{"issue_id":"language_study-8ii.3","depends_on_id":"language_study-8ii","type":"parent-child","created_at":"2026-02-18T09:55:09Z","created_by":"nikpav","metadata":"{}"},{"issue_id":"language_study-8ii.3","depends_on_id":"language_study-u44.1","type":"blocks","created_at":"2026-02-18T09:56:16Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-8ii.4","title":"Add new words interface","description":"Implement a full-featured Add Words interface so the app remains extensible at all times. File: src/js/ui/add-words.js.\n\nForm fields (single-word entry):\n- Word / phrase input (required)\n- Source language selector: EN or SR (required)\n- Translation(s) input (optional — can be left blank and filled by AI later)\n- Example sentence input (optional)\n- Category / tags input (optional, comma-separated)\n\nStorage:\n- Save new words to localStorage under a dedicated 'user_words' key as a separate collection\n- At runtime, merge user_words with the built-in vocabulary so all features (search, quiz, flashcards) work seamlessly across both sets\n\nBulk add:\n- Provide a textarea where the user can paste multiple words, one per line, for rapid entry\n- Parse each line with the same format used in existing vocabulary .txt files\n\nImport from file:\n- Accept .txt files via drag-and-drop onto a drop zone or a standard file picker\n- Parse the file using the same format as the existing vocabulary files and add entries to user_words\n\nExport user words:\n- Download user_words as a JSON file\n- Option to download as .txt in the same format as existing vocabulary files, so entries can be appended directly to repo files\n\nEdit and delete:\n- List all user-added words with Edit and Delete controls\n- Changes persist back to localStorage immediately\n\nBuilt-in vs user-added indication:\n- Visually distinguish user-added words from built-in words throughout the app (e.g., a subtle badge or icon)\n\nContribution workflow:\n- Document (via in-app hint or README note) that users can export their words as .txt and open a PR / copy into the appropriate vocabulary file to contribute back to the main vocabulary\n\nValidation:\n- Prevent exact duplicates: before saving, check whether the same word + source language combination already exists in either user_words or the built-in vocabulary and show a clear error if it does","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T08:55:11Z","created_by":"nikpav","updated_at":"2026-02-18T09:24:37Z","closed_at":"2026-02-18T09:24:37Z","close_reason":"AddWordsScreen: single form, bulk paste, file drag-drop import, word list with edit/delete, export JSON/.txt, duplicate validation. Lint clean.","dependencies":[{"issue_id":"language_study-8ii.4","depends_on_id":"language_study-8ii","type":"parent-child","created_at":"2026-02-18T09:55:11Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-9tr","title":"Fix CLAUDE.md schema drift and AI-first compliance","description":"Fix word→term, examples string→array, add enrichment docs, add npm aliases","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-02-18T09:52:05Z","created_by":"nikpav","updated_at":"2026-02-18T09:52:56Z","closed_at":"2026-02-18T09:52:56Z","close_reason":"Fixed CLAUDE.md: word→term, examples string→array, added enrichment docs, npm aliases, schema enriched_at field"}
{"id":"language_study-e3o","title":"Fix 46 EN entries where translations.en === term (self-referencing)","description":"46 English entries have translations.en set to the same value as term. Per data format, translations for the source language should be null. Fix: set translations.en = null for these entries.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-18T14:40:02Z","created_by":"nikpav","updated_at":"2026-02-18T14:41:36Z","closed_at":"2026-02-18T14:41:36Z","close_reason":"Set translations.en = null for 46 entries. All 87 tests pass."}
{"id":"language_study-goj","title":"Optimize vocabulary loading for mobile","description":"2.2MB JSON files are too heavy for mobile. Optimize loading, split data, add lazy loading.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-18T12:17:17Z","created_by":"nikpav","updated_at":"2026-02-18T12:30:39Z","closed_at":"2026-02-18T12:30:39Z","close_reason":"All optimization tasks complete: cleanup, minification (-636KB), lazy loading, Pages fix, CI fix."}
{"id":"language_study-goj.1","title":"Clean vocabulary data: remove self-translations, duplicates, noise","description":"Write a cleanup script that: 1) Sets translations.en=null for EN entries where translations.en equals the term (self-reference). Same for SR entries with translations.sr. 2) Finds and removes duplicate entries (same term+source_language). 3) Removes entries that are noise: too-short terms (\u003c2 chars), terms that are just numbers, terms with excessive special characters. 4) Reports stats before/after cleanup.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-18T12:17:46Z","created_by":"nikpav","updated_at":"2026-02-18T12:28:04Z","closed_at":"2026-02-18T12:28:04Z","close_reason":"Cleanup script created. 1511 self-translations nulled, 7 noise/paragraph entries removed. 1856 clean entries.","dependencies":[{"issue_id":"language_study-goj.1","depends_on_id":"language_study-goj","type":"parent-child","created_at":"2026-02-18T13:17:46Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-goj.2","title":"Minify vocabulary JSON for production","description":"Create a build-time optimization for vocabulary files: 1) Strip null fields and empty arrays to reduce file size. 2) Minify JSON (no indentation). 3) Split into smaller chunks if needed (e.g. by first letter or by difficulty). 4) Add gzip estimation. Target: under 500KB total after minification. Add a build step or Vite plugin to process data/ files during npm run build.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-18T12:17:46Z","created_by":"nikpav","updated_at":"2026-02-18T12:29:14Z","closed_at":"2026-02-18T12:29:14Z","close_reason":"Vite plugin strips null/empty and minifies JSON at build. 2.2MB → 1.2MB raw, ~304KB gzipped.","dependencies":[{"issue_id":"language_study-goj.2","depends_on_id":"language_study-goj","type":"parent-child","created_at":"2026-02-18T13:17:46Z","created_by":"nikpav","metadata":"{}"},{"issue_id":"language_study-goj.2","depends_on_id":"language_study-goj.1","type":"blocks","created_at":"2026-02-18T13:17:55Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-goj.3","title":"Fix CI test failure: self-referencing translations after enrichment","description":"parser.test.js line 44 fails because AI enrichment set translations.en = term for EN entries. Fix: either update the test to account for enriched data, or clean the data in the cleanup task. The test checks data.entries.filter(e =\u003e e.translations.en === e.term).length === 0 which now returns 1099.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-02-18T12:17:47Z","created_by":"nikpav","updated_at":"2026-02-18T12:28:17Z","closed_at":"2026-02-18T12:28:17Z","close_reason":"Self-referencing translations were cleaned in goj.1. Test now passes (0 self-refs).","dependencies":[{"issue_id":"language_study-goj.3","depends_on_id":"language_study-goj","type":"parent-child","created_at":"2026-02-18T13:17:46Z","created_by":"nikpav","metadata":"{}"},{"issue_id":"language_study-goj.3","depends_on_id":"language_study-goj.1","type":"blocks","created_at":"2026-02-18T13:17:55Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-goj.4","title":"Fix GitHub Pages deployment","description":"GitHub Pages shows status=null despite deploy workflow succeeding. Check: 1) Verify the deploy workflow output. 2) Check if dist/ contains data/ files (Vite may not copy them). 3) Ensure data/*.json files are included in the build output. 4) Test the built site locally with npm run preview.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-02-18T12:17:47Z","created_by":"nikpav","updated_at":"2026-02-18T12:28:05Z","closed_at":"2026-02-18T12:28:05Z","close_reason":"Moved data/ to public/data/ so Vite copies it to dist/. Updated all script and test paths.","dependencies":[{"issue_id":"language_study-goj.4","depends_on_id":"language_study-goj","type":"parent-child","created_at":"2026-02-18T13:17:46Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-goj.5","title":"Add lazy loading for vocabulary data","description":"Instead of loading all vocabulary at startup, load on demand: 1) Load only the selected language direction's data when starting a game. 2) Show loading indicator during fetch. 3) Cache loaded data in memory. This reduces initial load from 2.2MB to ~1MB.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T12:17:47Z","created_by":"nikpav","updated_at":"2026-02-18T12:30:39Z","closed_at":"2026-02-18T12:30:39Z","close_reason":"Lazy loading: UI shows instantly, vocab loaded in background. ensureVocabLoaded caches per language.","dependencies":[{"issue_id":"language_study-goj.5","depends_on_id":"language_study-goj","type":"parent-child","created_at":"2026-02-18T13:17:47Z","created_by":"nikpav","metadata":"{}"},{"issue_id":"language_study-goj.5","depends_on_id":"language_study-goj.2","type":"blocks","created_at":"2026-02-18T13:17:56Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-h7x","title":"Enrich all vocabulary with translations and examples","description":"Run AI enrichment on all 1863 entries to fill translations, examples, explanations","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-18T09:52:07Z","created_by":"nikpav","updated_at":"2026-02-18T12:07:52Z","closed_at":"2026-02-18T12:07:52Z","close_reason":"All 1863 entries enriched: 1409 EN + 454 SR. All have 3 translations, examples in 3 languages, Russian explanations."}
{"id":"language_study-ppg","title":"Vocabulary Data Pipeline","description":"Build the complete data pipeline: structured JSON schema for trilingual vocabulary (EN/SR/RU), parser for existing .txt files, AI-enrichment to generate missing translations/examples/explanations, and ongoing extensibility for adding new words.","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-02-18T08:54:29Z","created_by":"nikpav","updated_at":"2026-02-18T09:11:24Z","closed_at":"2026-02-18T09:11:24Z","close_reason":"All data pipeline tasks complete: JSON schema, parser (1863 entries), AI enrichment script."}
{"id":"language_study-ppg.1","title":"Design trilingual vocabulary JSON schema","description":"Design the JSON schema for vocabulary entries to power the trilingual (EN/SR/RU) game-based learning app.\n\nSCHEMA VERSION\nInclude a top-level schema_version field (e.g. \"1.0\") in every file for future extensibility.\n\nFILE ORGANISATION\nSplit files by source language and/or category (e.g. data/vocab/sr/, data/vocab/ru/) rather than one monolithic file, to keep diffs small and parsing incremental. Each file is an array of entry objects.\n\nREQUIRED FIELDS PER ENTRY\n- id: string, unique stable identifier (e.g. \"sr-001\", \"ru-042\")\n- type: \"word\" | \"phrase\" — distinguishes single words from multi-word expressions\n- term: string — the canonical form in the source language\n- source_language: \"en\" | \"sr\" | \"ru\"\n- translations: object with keys en / sr / ru; a key may be null or absent when the translation is not yet known (handles partially-translated .txt file entries)\n- examples: object with keys en / sr / ru, each an array of example sentence strings; missing languages are empty arrays\n- explanation: string — monolingual definition or usage note (language matches source_language or English)\n- pronunciation: object with keys en / sr / ru, each a string with phonetic hint or IPA; optional/nullable\n- category: string — broad topic label (e.g. \"food\", \"travel\", \"grammar\")\n- tags: array of strings — freeform additional labels (e.g. [\"formal\", \"colloquial\", \"verb\"])\n- difficulty: integer 1–5 (1 = beginner, 5 = advanced)\n- metadata: object containing:\n    - date_added: ISO 8601 date string\n    - source_file: original .txt filename this entry was parsed from (null if entered manually)\n    - reviewed: boolean — false until a human has verified all translations\n\nHANDLING PARTIAL TRANSLATIONS\nWhen a .txt file supplies only one or two language versions, populate the known translations and set unknown keys to null. The pipeline (ppg.2) must not block on missing translations; the game engine must gracefully skip or grey-out entries where the active language pair has a null translation.\n\nPHRASE vs WORD\nUse type: \"phrase\" for any term containing a space or requiring special grammatical context. Phrase entries may additionally carry a breakdown array listing the ids of component word entries.\n\nCOMPLETE EXAMPLE ENTRY\n{\n  \"schema_version\": \"1.0\",\n  \"id\": \"sr-001\",\n  \"type\": \"word\",\n  \"term\": \"jabuka\",\n  \"source_language\": \"sr\",\n  \"translations\": { \"en\": \"apple\", \"ru\": \"яблоко\", \"sr\": null },\n  \"examples\": {\n    \"en\": [\"I eat an apple every day.\"],\n    \"sr\": [\"Jedem jabuku svaki dan.\"],\n    \"ru\": [\"Я ем яблоко каждый день.\"]\n  },\n  \"explanation\": \"A common fruit; also used idiomatically in 'jabuka razdora' (apple of discord).\",\n  \"pronunciation\": { \"sr\": \"ya-BOO-ka\", \"en\": null, \"ru\": null },\n  \"category\": \"food\",\n  \"tags\": [\"noun\", \"fruit\"],\n  \"difficulty\": 1,\n  \"metadata\": {\n    \"date_added\": \"2026-02-18\",\n    \"source_file\": \"serbian_food.txt\",\n    \"reviewed\": false\n  }\n}","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-18T08:54:45Z","created_by":"nikpav","updated_at":"2026-02-18T09:06:54Z","closed_at":"2026-02-18T09:06:54Z","close_reason":"JSON schema created (data/schema.json) with all required fields, vocabulary-en.json and vocabulary-sr.json initialized, 7 schema tests pass.","dependencies":[{"issue_id":"language_study-ppg.1","depends_on_id":"language_study-ppg","type":"parent-child","created_at":"2026-02-18T09:54:45Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-ppg.2","title":"Build parser for existing .txt word files","description":"Write a Node.js script at scripts/parse-words.js that parses english_words.txt (~1754 lines) and serbian_words.txt (~634 lines) into a structured vocabulary.json conforming to the JSON schema defined in ppg.1.\n\nINPUT FORMAT HANDLING\nThe files contain highly heterogeneous lines. The parser must handle all of the following patterns:\n\n1. Bare word or phrase — no translation:\n   Examples: \"Livid\", \"hearty food\", \"dominions\"\n\n2. Word + translation separated by \" - \" (dash with spaces):\n   Examples: \"Humble - скромный\", \"Fabuluous - сказочный\"\n   Note: some entries have extra whitespace around the separator.\n\n3. Word + pronunciation in IPA/informal brackets + optional translation:\n   Examples: \"bitten [ˈbitn]\", \"culinary [ˈkələˌnerē]\", \"conscience [ˈkänSHəns] - совесть\"\n   Also informal phonetic spellings: \"asylums[асайлэм] - приюты\", \"barring[баааринг] accidents\"\n   Note: brackets may contain IPA, romanized phonetics, or even usage notes like \"[they follow that way of live]\" or \"[build new sentence]\" — distinguish pronunciation brackets from annotation brackets.\n\n4. Word + translation using \"=\" as separator (alternate separator):\n   Examples: \"broad protection = wide protection\", \"buckle up/strap in = пристегнись\", \"At length = finally\"\n\n5. Reversed direction entries (non-English word first):\n   Examples: \"Шнурки  - Laces\", \"Лось  - a moose\", \"pozornica - stage\" (Serbian Latin to English)\n\n6. Full sentences and phrases with embedded translation:\n   Examples: \"tree that yield an abundance of fruit. - Дерево, которое приносит много плодов.\", \"I have yet to be convinced - меня все еще нужно переубедить\"\n\n7. Multi-variant example blocks (consecutive related sentences, no translation):\n   Examples: groups like \"A bear will come out from behind a tree.\", \"A bear will emerge from behind a tree.\" etc.\n\nLANGUAGE DETECTION\n- Russian translations: detected by presence of Cyrillic script (Unicode range U+0400–U+04FF). English file contains ~462 lines with Cyrillic. Serbian file contains ~63 lines with Cyrillic (Serbian Cyrillic script, same range).\n- Serbian Latin translations: detected by Latin diacritics čćšžđ and their uppercase equivalents. Serbian file contains ~170 lines with diacritics.\n- English: default when neither Cyrillic nor Serbian diacritics are present.\n\nNOISE / SKIP CONDITIONS\nSkip lines that are:\n- Empty or whitespace-only (228 blank lines in english_words.txt alone; used as visual separators — skip, do not emit entries)\n- File header lines (first line e.g. \"Engleski reci\", \"Srpski reci\")\n- URLs (lines starting with http:// or https://)\n- Lines consisting only of punctuation, question marks, or emojis with no vocabulary content\n- Lines that are clearly metadata or annotations with no standalone word value\n\nDUPLICATE HANDLING\nDuplicates are common. For example \"convince\" appears 12+ times across english_words.txt with varying formats (bare, \"convince - убеждать\", \"convince him - убедить его\", full sentences). Strategy:\n- Canonicalize the headword (trim, normalize whitespace, lowercase for comparison only).\n- On first occurrence of a headword, create the entry.\n- On subsequent occurrences, merge any new information: add a translation if the existing entry lacks one, append additional example sentences, do not overwrite existing translations.\n- Treat \"convince\" and \"convinced\" and \"convincing\" as distinct headwords (no stemming required).\n\nOUTPUT\n- File: vocabulary.json at the project root (or a configurable output path).\n- Schema: must conform to the structure defined in ppg.1 (trilingual entries with fields for headword, source_language, translations object keyed by language code, pronunciation, examples, tags, raw_line for traceability).\n- The script must be idempotent: if vocabulary.json already exists, re-running the script with the same or extended .txt files must produce a correct merged result — new words added, existing entries enriched, no spurious duplicates. Do not blindly overwrite.\n\nIMPLEMENTATION NOTES\n- Runtime: Node.js (no external dependencies beyond built-in fs/path, or minimal ones already in package.json).\n- Script location: scripts/parse-words.js\n- Accept optional CLI flags: --english \u003cpath\u003e, --serbian \u003cpath\u003e, --output \u003cpath\u003e so paths are not hardcoded.\n- Log a summary on completion: total lines read, entries created, entries merged/enriched, lines skipped.\n- Include inline comments explaining each parsing branch for maintainability.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-18T08:54:47Z","created_by":"nikpav","updated_at":"2026-02-18T09:10:15Z","closed_at":"2026-02-18T09:10:15Z","close_reason":"Parser created. 1863 entries (1409 EN + 454 SR), 395 RU translations extracted, pronunciation extracted, no noise entries. 13 tests pass. Idempotent re-runs verified.","dependencies":[{"issue_id":"language_study-ppg.2","depends_on_id":"language_study-ppg","type":"parent-child","created_at":"2026-02-18T09:54:47Z","created_by":"nikpav","metadata":"{}"},{"issue_id":"language_study-ppg.2","depends_on_id":"language_study-ppg.1","type":"blocks","created_at":"2026-02-18T09:56:14Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-ppg.3","title":"AI enrichment: generate missing translations and examples","description":"Use the Claude API via @anthropic-ai/sdk to enrich vocabulary entries that are missing data after the .txt parsing step.\n\nWHAT TO GENERATE (per entry, only if missing):\n- Missing translations into all 3 languages (EN/SR/RU)\n- 1-2 example sentences per language showing the word in context\n- A brief explanation/definition written in Russian (the user's native language)\n\nBATCH PROCESSING:\n- Do not call the API once per word — batch 20-50 entries per request\n- Format the batch as a structured JSON prompt; parse the structured JSON response back into individual entries\n\nCOST MANAGEMENT:\n- Estimate token usage before running (log approximate cost to console)\n- Use claude-haiku for straightforward single-word translations\n- Reserve claude-sonnet only for entries that need nuanced explanations or complex example sentences\n\nINCREMENTAL ENRICHMENT:\n- Skip entries that already have all required fields populated\n- Track enrichment status with an \"enriched\": true flag on each entry\n- On subsequent runs, only process entries where \"enriched\" is false or missing\n\nOUTPUT:\n- Update the same vocabulary JSON files in-place\n- Mark completed entries with \"enriched\": true and an \"enrichedAt\" ISO timestamp\n- Write a short summary to stdout: how many entries processed, skipped, failed\n\nERROR HANDLING:\n- Implement exponential-backoff retry logic (up to 3 retries per batch)\n- Save progress after each successful batch so a partial run is not lost\n- On fatal error, log the failed batch to a separate errors.json file for later reprocessing\n\nRATE LIMITING:\n- Respect Anthropic API rate limits; add a configurable delay between batch requests (default 500ms)\n- Log a warning if approaching token-per-minute limits\n\nSCRIPT LOCATION:\n- Implement in scripts/enrich-vocabulary.js\n- Run with: node scripts/enrich-vocabulary.js\n- Accepts optional --dry-run flag to preview what would be sent without making API calls","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-18T08:54:50Z","created_by":"nikpav","updated_at":"2026-02-18T09:11:24Z","closed_at":"2026-02-18T09:11:24Z","close_reason":"Enrichment script created (scripts/enrich-vocabulary.js). Uses Claude Haiku, batches of 30, exponential backoff, incremental enrichment, dry-run mode verified. Ready to run with ANTHROPIC_API_KEY.","dependencies":[{"issue_id":"language_study-ppg.3","depends_on_id":"language_study-ppg","type":"parent-child","created_at":"2026-02-18T09:54:49Z","created_by":"nikpav","metadata":"{}"},{"issue_id":"language_study-ppg.3","depends_on_id":"language_study-ppg.2","type":"blocks","created_at":"2026-02-18T09:56:14Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-r7b","title":"Write README with instructions for adding new words","description":"Create README.md with full usage guide: adding words via UI, bulk import, enrichment pipeline, data format","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-18T09:52:06Z","created_by":"nikpav","updated_at":"2026-02-18T09:53:33Z","closed_at":"2026-02-18T09:53:33Z","close_reason":"README.md created with 3 ways to add words, enrichment pipeline instructions, project structure"}
{"id":"language_study-tsq","title":"Clean EN vocabulary: remove Cyrillic from term field (47 entries)","description":"47 English entries have Russian text mixed into the term field (e.g. 'Curtons зановески', 'flung- отбросил'). These are parser artifacts — the Russian translation leaked into the term. Fix: extract the English portion only, move the Russian to translations.ru if missing.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-18T14:23:07Z","created_by":"nikpav","updated_at":"2026-02-18T14:26:30Z","closed_at":"2026-02-18T14:26:30Z","close_reason":"Fixed all 47 entries. term field now clean English. Script at scripts/fix-cyrillic-terms.js"}
{"id":"language_study-u44","title":"Game Engine \u0026 Game Modes","description":"Build the HTML game engine with multiple learning modes. Core principle: when learning English, show Serbian hints first, then Russian fallback. When learning Serbian, show English hints first, then Russian. Multiple game modes to keep learning varied and engaging.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-18T08:54:30Z","created_by":"nikpav","updated_at":"2026-02-18T09:18:43Z","closed_at":"2026-02-18T09:18:43Z","close_reason":"Game engine + all 4 modes complete. Core engine with events/hints/spaced repetition + flashcards, quiz, typing, match pairs."}
{"id":"language_study-u44.1","title":"Build core game engine architecture","description":"Create the core game engine as modular ES modules (src/js/engine.js + src/js/modes/*.js). Each game mode is a separate module implementing a shared interface contract: init(), nextWord(), checkAnswer(input), getHint(), endGame().\n\nGameEngine class responsibilities:\n- Load and parse vocabulary JSON, filter entries by active language direction (EN-\u003eSR, SR-\u003eEN, etc.)\n- Manage game session state: current word index, score, streak, hints used per word, elapsed time\n- Implement hint reveal logic: for learning English — tap 1 shows the prompt word, tap 2 reveals the Serbian hint, tap 3 reveals the Russian meaning as final fallback; reverse order applies when learning Serbian\n- Drive word selection algorithm: random baseline, weighted by difficulty rating, prioritizing words the user answered incorrectly in the current or recent sessions\n- Apply simple spaced repetition: wrong answers re-queue the word to appear again within the same session (e.g. insert 2-3 positions ahead), and surface those words more often in future sessions via a stored weight\n\nSession state fields tracked: currentWordIndex, score, streak, hintsUsed (per word), sessionWords[], startTime, elapsedTime, wrongWords[].\n\nEvent system: GameEngine emits named events (word:loaded, answer:correct, answer:wrong, hint:revealed, session:ended) so UI layers and game mode modules can subscribe without tight coupling.\n\nFile structure:\n  src/js/engine.js          — GameEngine class, event emitter, session state\n  src/js/modes/flashcard.js — Flashcard mode module\n  src/js/modes/quiz.js      — Multiple choice mode\n  src/js/modes/typeAnswer.js — Type the translation mode\n  src/js/modes/matchPairs.js — Match pairs mode\n  src/js/modeInterface.js   — Shared interface/contract definition and base class","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-18T08:54:52Z","created_by":"nikpav","updated_at":"2026-02-18T09:13:38Z","closed_at":"2026-02-18T09:13:38Z","close_reason":"Core engine created: GameEngine class with events, hint system, spaced repetition, word selection. Plus levenshtein, fuzzyMatch, serbianCyrillicToLatin utilities. 27 engine tests pass.","dependencies":[{"issue_id":"language_study-u44.1","depends_on_id":"language_study-ppg.1","type":"blocks","created_at":"2026-02-18T09:56:14Z","created_by":"nikpav","metadata":"{}"},{"issue_id":"language_study-u44.1","depends_on_id":"language_study-u44","type":"parent-child","created_at":"2026-02-18T09:54:51Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-u44.2","title":"Game Mode: Flashcards with progressive hints","description":"Implement flashcard mode in src/js/modes/flashcards.js.\n\nCard flip animation: use CSS 3D transforms (rotateY) to flip the card on each tap.\n\nFront side: display the word in the target language.\n\nBack side 1 (first tap/swipe): reveal a hint in the sister language — Serbian when learning English, English when learning Serbian.\n\nBack side 2 (second tap): reveal the full meaning in Russian (user's native language).\n\nUser action buttons: 'Know it' (green), 'Don't know' (red), and 'Show hint' — rendered below the card and active after the card is flipped.\n\nSwipe gestures for mobile: swipe right = Know it, swipe left = Don't know.\n\nProgress bar: show current position in the deck (e.g. 15/50) at the top of the screen.\n\nEnd-of-session summary: display count of known vs unknown words, with an option to restart a session reviewing only the unknown cards.\n\nDirection selector: toggle between 'Learn English' (front = EN, hint = SR, meaning = RU) and 'Learn Serbian' (front = SR, hint = EN, meaning = RU).\n\nShuffle option: randomise card order before starting a session.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-18T08:54:54Z","created_by":"nikpav","updated_at":"2026-02-18T09:18:43Z","closed_at":"2026-02-18T09:18:43Z","close_reason":"All 4 game modes implemented: FlashcardsMode, QuizMode, TypingMode, MatchMode. All parse cleanly, lint clean, 48 tests pass.","dependencies":[{"issue_id":"language_study-u44.2","depends_on_id":"language_study-u44","type":"parent-child","created_at":"2026-02-18T09:54:54Z","created_by":"nikpav","metadata":"{}"},{"issue_id":"language_study-u44.2","depends_on_id":"language_study-u44.1","type":"blocks","created_at":"2026-02-18T09:56:15Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-u44.3","title":"Game Mode: Multiple choice quiz","description":"Quiz mode implementation in src/js/modes/quiz.js.\n\nShow a word and display 4 answer options (1 correct + 3 distractors). Distractors are selected from the same difficulty level and same word category where possible; avoid obviously wrong options (e.g. wildly different word lengths or parts of speech).\n\nSupport both directions: EN→SR/RU and SR/RU→EN, as well as SR↔RU.\n\nHint system: after the first wrong answer reveal the Serbian translation as a hint; after the second wrong answer reveal the Russian translation as a hint.\n\nVisual feedback: highlight the chosen option green (correct) or red (wrong) with a short CSS animation on each answer.\n\nScore tracking: award points per correct answer, give a bonus for answers given with no hints used, apply a streak multiplier for consecutive correct answers.\n\nRound structure: 10–20 questions per round, configurable by the player before the round starts.\n\nEnd-of-round results screen: display total score, accuracy percentage, and a reviewable list of missed words.\n\nTimer option (optional, for advanced users): configurable countdown per question.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-18T08:54:56Z","created_by":"nikpav","updated_at":"2026-02-18T09:18:43Z","closed_at":"2026-02-18T09:18:43Z","close_reason":"All 4 game modes implemented: FlashcardsMode, QuizMode, TypingMode, MatchMode. All parse cleanly, lint clean, 48 tests pass.","dependencies":[{"issue_id":"language_study-u44.3","depends_on_id":"language_study-u44","type":"parent-child","created_at":"2026-02-18T09:54:56Z","created_by":"nikpav","metadata":"{}"},{"issue_id":"language_study-u44.3","depends_on_id":"language_study-u44.1","type":"blocks","created_at":"2026-02-18T09:56:15Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-u44.4","title":"Game Mode: Type the translation","description":"Implement typing mode in src/js/modes/typing.js. Show a word in the source language; the user types the translation in the target language.\n\nInput handling: render a text input field, submit on Enter key or a tap of the Submit button. Auto-focus the input on load for smooth mobile UX and set the appropriate keyboard type (inputmode=text).\n\nFuzzy matching: accept the answer as correct if Levenshtein distance \u003c= 2 from any accepted form, case-insensitive, with leading/trailing whitespace ignored. For Serbian, treat Latin and Cyrillic spellings as equivalent (transliterate before comparing).\n\nProgressive hints via a 'Show Hint' button: first press reveals the Serbian clue, second press reveals the Russian clue. Also support letter-by-letter hints: each additional hint tap reveals one more letter of the correct answer (first letter, then second, etc.), helping the user without giving the full answer.\n\nVisual feedback on submission: green for exact or fuzzy-correct, yellow (with the exact correct form displayed) when the answer is close but outside the fuzzy threshold, red (with the correct answer displayed) for wrong answers.\n\nScoring: award full points when the answer is submitted with no hints used; award partial points (scaled by hints consumed) when hints were shown before submitting.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T08:54:58Z","created_by":"nikpav","updated_at":"2026-02-18T09:18:43Z","closed_at":"2026-02-18T09:18:43Z","close_reason":"All 4 game modes implemented: FlashcardsMode, QuizMode, TypingMode, MatchMode. All parse cleanly, lint clean, 48 tests pass.","dependencies":[{"issue_id":"language_study-u44.4","depends_on_id":"language_study-u44","type":"parent-child","created_at":"2026-02-18T09:54:58Z","created_by":"nikpav","metadata":"{}"},{"issue_id":"language_study-u44.4","depends_on_id":"language_study-u44.1","type":"blocks","created_at":"2026-02-18T09:56:15Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-u44.5","title":"Game Mode: Match pairs","description":"Implement a Match Pairs game mode in src/js/modes/match.js.\n\nGrid layout: two-column layout where the left column lists words and the right column lists shuffled translations. Both columns are scrollable if needed but target 6-8 pairs visible on one mobile screen without scrolling.\n\nTap-to-connect: the player taps a word on the left to select it (highlighted), then taps a translation on the right to attempt a match. A second tap on the left deselects. No drag required.\n\nVisual feedback: a correct match highlights the pair green, then the pair fades out and shrinks to free space. A wrong match flashes both tapped items red briefly, then resets selection. No penalty beyond the visual flash.\n\nRound size: 6-8 pairs per round, defaulting to 6. The number is chosen to fit comfortably on a mobile screen with large tap targets (minimum 48px height per row) and clear visual separation between rows.\n\nCross-language mixing: configurable language pair for matching — EN words to SR translations, EN to RU, or SR to RU. The active pair is set in game config and can be toggled from the mode UI.\n\nTimer: count-up timer starts when the round begins and stops when all pairs are matched. An optional countdown mode can be enabled in config; if the countdown reaches zero the round ends with a time-out result.\n\nDifficulty scaling: rounds start with 4 pairs and increase by 1 per completed round up to the configured maximum (default 8). Scaling resets when a new session starts.\n\nTouch-friendly: tap targets are at least 48px tall, rows have visible separators, selected state is clearly distinct from matched and default states. Works on both touch and mouse click.\n\nEnd-of-round summary: on round completion display time taken, number of wrong attempts, and a Replay button to retry the same set and a Next button to advance. Summary is shown inline without a modal.\n\nFile: src/js/modes/match.js","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-18T08:55:00Z","created_by":"nikpav","updated_at":"2026-02-18T09:18:43Z","closed_at":"2026-02-18T09:18:43Z","close_reason":"All 4 game modes implemented: FlashcardsMode, QuizMode, TypingMode, MatchMode. All parse cleanly, lint clean, 48 tests pass.","dependencies":[{"issue_id":"language_study-u44.5","depends_on_id":"language_study-u44","type":"parent-child","created_at":"2026-02-18T09:54:59Z","created_by":"nikpav","metadata":"{}"},{"issue_id":"language_study-u44.5","depends_on_id":"language_study-u44.1","type":"blocks","created_at":"2026-02-18T09:56:15Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-voa","title":"Project Foundation \u0026 AI-First Setup","description":"Set up the entire project foundation with AI-first approach: CLAUDE.md, project structure, tech stack (vanilla HTML/CSS/JS for GitHub Pages), data model, build tooling. Everything needed before feature work begins.","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-02-18T08:54:29Z","created_by":"nikpav","updated_at":"2026-02-18T09:05:31Z","closed_at":"2026-02-18T09:05:31Z","close_reason":"All foundation tasks complete: CLAUDE.md + project structure."}
{"id":"language_study-voa.1","title":"Create CLAUDE.md with project conventions","description":"Write CLAUDE.md as the AI-first anchor document for this project. CLAUDE.md is the single source of truth that any AI assistant reads before touching code.\n\nREQUIRED SECTIONS (in order):\n1. Project purpose — English/Serbian vocabulary game for Russian-native speakers, hosted on GitHub Pages (static only, no server).\n2. Tech stack — vanilla JS (ES modules, no frameworks, no build step), semantic HTML5, CSS custom properties. Node.js used only for test runners.\n3. Directory structure — brief annotated tree: index.html, js/, css/, data/, tests/.\n4. Build \u0026 test commands — exactly how to run tests locally (e.g. 'node --experimental-vm-modules node_modules/.bin/jest' or equivalent), how to lint, how to open locally.\n5. Naming conventions — files: kebab-case; JS: camelCase functions, PascalCase classes; CSS: BEM or kebab-case custom properties; data keys: snake_case.\n6. Data format — document the canonical word-entry JSON schema: { id, en, sr, ru, pos, tags, audio? }. Explain that 'ru' is the Russian gloss used as fallback hint only.\n7. Hint system — describe the two-tier hint: show Serbian (sr) first, reveal Russian (ru) only on second hint request. No auto-reveal.\n8. Coding conventions — pure functions preferred, no global mutable state, ES module imports only (no require()), event delegation over per-element listeners.\n9. Testing approach — unit tests for pure JS logic (data parsing, scoring, hint-state machine); no DOM tests unless unavoidable; target coverage for core modules.\n10. What NOT to do — no jQuery, no React/Vue/Svelte, no Webpack/Vite, no inline scripts, no localStorage abuse.\n\nAI-FIRST CONSTRAINTS:\n- Keep the final CLAUDE.md under 200 lines.\n- Every line must be actionable or structural — omit anything a competent developer would already know.\n- Write in imperative mood (\"Use\", \"Do not\", \"Prefer\").\n- Include a one-line project tagline at the very top so an AI can orient instantly.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-18T08:54:41Z","created_by":"nikpav","updated_at":"2026-02-18T09:05:27Z","closed_at":"2026-02-18T09:05:27Z","close_reason":"CLAUDE.md created (118 lines), project structure initialized with Vite, ESLint, Vitest. Lint passes, tests pass.","dependencies":[{"issue_id":"language_study-voa.1","depends_on_id":"language_study-voa","type":"parent-child","created_at":"2026-02-18T09:54:40Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-voa.2","title":"Initialize project structure and package.json","description":"Initialize the full project scaffold for a static GitHub Pages site (no server-side code).\n\nDIRECTORY LAYOUT\nCreate the following structure:\n  src/\n    js/          # all application JavaScript modules\n    css/         # stylesheets\n    assets/      # images, audio clips, fonts\n  data/          # vocabulary JSON/CSV source files\n  scripts/       # Node.js build/utility scripts (xlsx export helper, etc.)\n  tests/         # unit and integration test files\n  docs/          # GitHub Pages publish root (if using /docs deployment)\n\nPACKAGE.JSON\nAdd the following dev dependencies and scripts:\n  devDependencies:\n    - vite (or live-server as lighter alternative) — local dev server with hot reload\n    - eslint + eslint-plugin-import — linting, enforce ES module import style\n    - vitest (or jest) — unit test runner\n    - xlsx — for exporting vocabulary data to spreadsheet format\n  scripts:\n    - \"dev\": launch local dev server pointing at project root\n    - \"lint\": run eslint on src/js/**\n    - \"test\": run vitest/jest\n    - \"build\": optional vite build producing dist/ for GitHub Pages (only if bundler chosen)\n\nMODULE STRATEGY\nDecide explicitly: use native ES modules (type: module in package.json, import/export in src/js/) with no bundler, OR use Vite as a lightweight bundler. Document the choice in a brief comment in package.json or README. Given GitHub Pages static hosting, native ES modules served directly is simplest; Vite is acceptable if tree-shaking or asset hashing is wanted.\n\n.GITIGNORE\nInclude at minimum:\n  node_modules/\n  dist/\n  .DS_Store\n  *.log\n  .env\n\nINDEX.HTML SHELL\nScaffold index.html with:\n  - DOCTYPE html, lang=\"en\"\n  - \u003cmeta charset=\"UTF-8\"\u003e, viewport meta\n  - \u003ctitle\u003eLanguage Study\u003c/title\u003e\n  - Link to src/css/main.css\n  - A root \u003cdiv id=\"app\"\u003e\u003c/div\u003e\n  - \u003cscript type=\"module\" src=\"src/js/main.js\"\u003e\u003c/script\u003e (ES module entry point)\n  - No inline scripts or styles\n\nGITHUB PAGES NOTES\nThis is a fully static site. No Express, no backend. All data loading must use fetch() against static files. Confirm the Pages source is set to either repo root or docs/ branch and document in README.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-18T08:54:43Z","created_by":"nikpav","updated_at":"2026-02-18T09:05:27Z","closed_at":"2026-02-18T09:05:27Z","close_reason":"CLAUDE.md created (118 lines), project structure initialized with Vite, ESLint, Vitest. Lint passes, tests pass.","dependencies":[{"issue_id":"language_study-voa.2","depends_on_id":"language_study-voa","type":"parent-child","created_at":"2026-02-18T09:54:42Z","created_by":"nikpav","metadata":"{}"}]}
{"id":"language_study-wf8","title":"Clean SR vocabulary: fix misplaced English entries (23 entries)","description":"23 Serbian entries are actually English words (dazed, fanciful, etc). These should be moved to EN vocabulary or removed from SR.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-18T14:23:08Z","created_by":"nikpav","updated_at":"2026-02-18T14:39:09Z","closed_at":"2026-02-18T14:39:09Z","close_reason":"Cleaned SR (449→423) and EN (1386→1380). All 23 integrity tests pass. Script: scripts/fix-sr-and-remaining.js"}
